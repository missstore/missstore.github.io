<!DOCTYPE html>
<html lang="pt-br" style="width: 100%;height: 100%;user-select: none;">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Miss Store - Moda Feminina</title>
    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://missstore.github.io">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Miss Store - Moda Feminina">
    <meta property="og:description" content="A mais nova loja em porto velho - RO! Uma variedade de roupas feminina">
    <meta property="og:image" content="https://missstore.github.io/assets/img/missstore-graph.jpg">
    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta property="twitter:domain" content="missstore.github.io">
    <meta property="twitter:url" content="https://missstore.github.io">
    <meta name="twitter:title" content="Miss Store - Moda Feminina">
    <meta name="twitter:description" content="A mais nova loja em porto velho - RO! Uma variedade de roupas feminina">
    <meta name="twitter:image" content="https://missstore.github.io/assets/img/missstore-graph.jpg">
    <!-- Description -->
    <meta name="description" content="A mais nova loja em porto velho - RO! Uma variedade de roupas feminina">
    <!-- Css's | Icons | Fonts -->
    <link rel="icon" type="image/jpeg" sizes="32x32" href="https://missstore.github.io/assets/img/missstore-icon.jpg">
    <link rel="icon" type="image/jpeg" sizes="32x32" href="https://missstore.github.io/assets/img/missstore-icon.jpg">
    <script>
    /*
	https: //api.github.com/repos/missstore/missstore.github.io/contents
	https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img
	https://docs.github.com/pt/rest/reference/repos
	*/
      function wwm(s, f) {
        return new Promise(resolve => {
          if (document.querySelector(s)) return resolve(f);
          const observer = new MutationObserver(m => {
            if (document.querySelector(s)) {
              resolve(f);
              observer.disconnect();
            }
          });
          observer.observe(document, {
            childList: true,
            subtree: true
          });
        });
      }
      wwm("body > div").then(function() {
        document.querySelector("body > div").addEventListener("click", function() {
          getUserInfo();
        });
      });

      function atou(b64) {
        return decodeURIComponent(escape(atob(b64)));
      }

      function btou(data) {
        return btoa(unescape(encodeURIComponent(data)));
      }

      function getUserInfo() {
        var req = new XMLHttpRequest(),
          code = window.location.search.substring(window.location.search.indexOf("code=") + 5, window.location.search.lastIndexOf("&"));

        function verificarUsuario() {
          req = new XMLHttpRequest();
          req.open('GET', 'https://api.github.com/user', true);
          req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
          req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
          req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
          req.send();
          req.onload = function() {
            if (req.response.includes("too many requests")) {
              alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
              window.location.assign("manager");
            } else if (JSON.parse(req.response).message) {
              obtertoken();
            } else {
              if (JSON.parse(req.response).login == "missstore") {
                req = new XMLHttpRequest();
                req.open('GET', "https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/grupos.json", true);
                req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
                req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                req.send();
                req.onload = function() {
                  sessionStorage.setItem("grupos", JSON.stringify({
                    "sha": JSON.parse(req.response).sha,
                    "content": JSON.parse(req.response).content
                  }))
                  obterContents();
                };
                req.onerror = function() {
                  console.log("Error ao obter grupos...");
                  window.location.assign("manager");
                };
              } else {
                alert("Usuario não autorizado | Unauthorized User\n" + JSON.parse(req.response).login);
                let con = confirm("Revogar acesso? | Revoke acess?");
                con == true ? window.open("https://github.com/settings/connections/applications/1fdf9fee6996786f2053") : null;
              }
            }
          };
        }
        verificarUsuario();

        function obtertoken() {
          req = new XMLHttpRequest();
          req.open('POST', 'https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token', true);
          req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
          req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
          req.send('code=' + code + '&' + atob("Y2xpZW50X2lkPTFmZGY5ZmVlNjk5Njc4NmYyMDUzJmNsaWVudF9zZWNyZXQ9YjZlMjY4MTE3OTA2ZjI2MWQwODdmMDllNmMwNTRhZGU5NGZiNjEzYg==") + '&state=true');
          req.onload = function() {
            if (req.response.includes("too many requests")) {
              alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
              window.location.assign("manager");
            } else if (req.response.includes("/corsdemo")) {
              let con = confirm('Ira abrir uma janela\nnela clique em "Request temporary access to the demo server"\n• ↓↓↓ Aguarde a mensagem ↓↓↓ •\n"You currently have temporary access to the demo server."\nLogo após feche a janela')
              con == true ? window.open("https://cors-anywhere.herokuapp.com/") : window.open("https://cors-anywhere.herokuapp.com/");
            } else {
              let _token = JSON.parse(req.response) ? JSON.parse(req.response).access_token : null;
              if (_token) {
                localStorage.setItem("_token", _token);
                verificarUsuario();
              } else {
                let con = confirm("Autorize o app para obter um codigo e continuar")
                con == true ? window.open("https://github.com/login/oauth/authorize?client_id=1fdf9fee6996786f2053&allow_signup=false&scope=user%20repo%20repo_deployment%20public_repo%20admin:repo_hook%20read:repo_hook%20read:user&state=true") : null;
              }
            }
          };
        }
      }

      function fazerUpload(indexenviado, tipo) {
        let LerArquivo = new FileReader(),
          arquivo = document.querySelector("input[type=file]").files.item(indexenviado);
        LerArquivo.onload = function() {
          var req = new XMLHttpRequest();
          req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/' + tipo + "/" + arquivo.name, true);
          req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
          req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
          req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
          req.send('{"message":"' + arquivo.name + ' enviado","content":"' + LerArquivo.result.replace(/^data:image.+;base64,/, '') + '"}');
          req.onload = function() {
            if (req.response.includes("too many requests")) {
              alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
              window.location.assign("manager");
            } else if (JSON.parse(req.response).message) {
              if (JSON.parse(req.response).message.includes("sha")) {
                document.querySelector(".info_").textContent = "";
                alert("Uma foto com o mesmo nome já existe nesse tipo\nClique em atualizar imagens e procure essa foto");
              } else {
                document.querySelector(".info_").textContent = "";
                alert("Falha ao enviar a foto " + arquivo.name + "\n" + JSON.parse(req.response).message);
              }
            } else {
              indexenviado == document.querySelector("input[type=file]").files.length - 1 ? (document.querySelector(".info_").textContent = "", alert("Todos os arquivos foram enviados.")) : fazerUpload(indexenviado + 1, document.querySelector("select").value);
            }
          };
        };
        LerArquivo.onerror = function() {
          document.querySelector(".info_").textContent = "";
          alert("Falha ao tentar enviar a foto...\nVerifique sua conexão e tente novamente");
        };
        LerArquivo.onprogress = function(e) {
          let percentComplete = e.loaded / e.total;
          percentComplete = parseInt(percentComplete * 100);
          percentComplete == 100 ? document.querySelector(".info_").textContent = "Foto enviada com sucesso!" : document.querySelector(".info_").textContent = "Enviando foto.. " + percentComplete + "%";
        };
        document.querySelector(".info_").textContent = "Enviando fotos...";
        LerArquivo.readAsDataURL(document.querySelector("input[type=file]").files.item(indexenviado));
      }

      function ModificarArquivo(sha, nome, content) {
        var req = new XMLHttpRequest();
        req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/' + nome, true);
        req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
        req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
        req.send('{"message":"' + nome.split("/")[0] + ' info.json alterado","sha":"' + sha + '","content":"' + content + '"}');
        req.onload = function() {
          if (req.response.includes("too many requests")) {
            alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
            window.location.assign("manager");
          } else if (JSON.parse(req.response).message) {
            alert("Falha ao tentar modificar\n" + JSON.parse(req.response).message);
            obterContents();
          } else {
            sessionStorage.setItem(JSON.parse(req.response).content.path.replace("assets/img/", "").split("/")[0], JSON.stringify({
              "sha": JSON.parse(req.response).content.sha,
              "content": content
            }));
            alert("Informações inseridas / modificadas com sucesso!");
          }
        };
      }

      function deletarArquivo(nome, sha) {
        let tipo = nome.replace("assets/img/", "").split("/")[0];
        let apenasNome = nome.replace("assets/img/", "").split("/")[1];
        var req = new XMLHttpRequest();

        function alterarInfo(shaInfo, contentInfo) {
          let contentAalterar = JSON.parse(atou(contentInfo));
          contentAalterar.info.find(f => f.src == nome.replace("assets/img/", "").split("/")[1]) ? contentAalterar.info.splice(contentAalterar.info.findIndex(f => f.src == nome.replace("assets/img/", "").split("/")[1]), 1) : null;
          let contentConverted = btou(JSON.stringify(contentAalterar));
          if (JSON.parse(sessionStorage.getItem(tipo)).content == contentConverted) {
            deletarafoto();
          } else {
            req = new XMLHttpRequest();
            req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/' + tipo + "/info.json", true);
            req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
            req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
            req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
            req.send('{"message":"' + tipo + ' info.json alterado","sha":"' + shaInfo + '","content":"' + contentConverted + '"}');
            req.onload = function() {
              if (req.response.includes("too many requests")) {
                alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
                window.location.assign("manager");
              } else if (JSON.parse(req.response).message) {
                alert("Falha ao tentar excluir do info\n" + JSON.parse(req.response).message);
                obterContents();
              } else {
                sessionStorage.setItem(tipo, JSON.stringify({
                  "sha": JSON.parse(req.response).content.sha,
                  "content": contentConverted
                }));
                deletarafoto();
              }
            };
          }
        }
        alterarInfo(JSON.parse(sessionStorage.getItem(tipo)).sha, JSON.parse(sessionStorage.getItem(tipo)).content);

        function deletarafoto() {
          req = new XMLHttpRequest();
          req.open('DELETE', 'https://api.github.com/repos/missstore/missstore.github.io/contents/' + nome, true);
          req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
          req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
          req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
          req.send('{"message":"' + nome + ' deletado","sha":"' + sha + '"}');
          req.onload = function() {
            if (req.response.includes("too many requests")) {
              alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
              window.location.assign("manager");
            } else if (JSON.parse(req.response).message) {
              if (JSON.parse(req.response).message.includes("Not Found")) {
                alert("Foto já apagada!\nClique em atualizar imagens\nAté desaperecer essa foto");
              } else {
                alert("Erro ao tentar apagar a foto\n" + apenasNome + "\n" + JSON.parse(req.response).message);
              }
              obterContents();
            } else if (JSON.parse(req.response).commit) {
              Array.from(document.querySelectorAll("label")).find(f => f.textContent == nome) ? Array.from(document.querySelectorAll("label")).find(f => f.textContent == nome).parentElement.remove() : null;
              alert("Foto\n" + apenasNome + "\ndeletada");
            }
          };
        }
      }

      function filtrartipo() {
        let temp = [];
        let checarcheckbox = [];
        document.querySelectorAll("input[type=checkbox]:checked").forEach(function(e) {
          if (e.value != "todos") {
            checarcheckbox.push(e.value);
          }
        });
        if (checarcheckbox.length == 6) {
          document.querySelector("input[type=checkbox][value=todos]").checked = true;
        } else {
          document.querySelector("input[type=checkbox][value=todos]").checked = false;
        }
        document.querySelectorAll("input[type=checkbox]:checked").forEach(function(e) {
          temp.push(e.value);
        });
        document.querySelectorAll("div[tipo]").forEach(function(e) {
          if (!temp.includes(e.getAttribute("tipo"))) {
            e.style.display = "none";
          } else {
            e.style.display = "flex";
          }
          if (temp.includes("semnomevalor")) {
            if (e.querySelector(".nomedoproduto").value == "" || e.querySelector(".valordoproduto").value == "") {
              e.style.display = "flex";
            }
          }
        });
      }

      function obterContents() {
        var osLink = "https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/vestidos|https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/calcas|https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/conjuntos|https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/croppeds|https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/saias";
        document.body.outerHTML = '';
        document.querySelectorAll("head").forEach(function(e) {
          e.innerText.length == 0 ? e.remove() : null;
        });
        let mainDiv = document.createElement("div");
        mainDiv.style = 'display: flex;flex-wrap: wrap;flex-direction: row;justify-content: center;';
        let divEnviar = document.createElement("div");
        divEnviar.style = 'width: 100%;height: auto;display: flex;align-items: center;place-content: center;margin-bottom: 10px;flex-direction: row;flex-wrap: wrap;';
        let selecionar_arquivo = document.createElement("input");
        selecionar_arquivo.multiple = true;
        selecionar_arquivo.type = "file";
        selecionar_arquivo.accept = "image/*"
        selecionar_arquivo.style = 'margin: 5px;';
        divEnviar.append(selecionar_arquivo);
        let selecionarCategoria = document.createElement("select");
        selecionarCategoria.style = 'margin: 5px;border-radius: 7px;text-align: center;';
        let myCat = ['saias', 'croppeds', 'vestidos', 'calcas', 'conjuntos'];
        myCat.forEach(function(e) {
          let tempRes = document.createElement("option");
          tempRes.value = e;
          tempRes.textContent = e.toUpperCase();
          selecionarCategoria.append(tempRes)
        });
        divEnviar.append(selecionarCategoria);
        let botaoEnviar = document.createElement("button");
        botaoEnviar.textContent = "Enviar fotos";
        botaoEnviar.style = 'margin: 5px;border-radius: 7px;';
        botaoEnviar.addEventListener("click", function() {
          if (document.querySelector("input[type=file]").files.length == 0) {
            alert('Selecione um arquivo primeiro');
          } else {
            let con = confirm("Selecionou o tipo?");
            con == true ? fazerUpload(0, document.querySelector("select").value) : null;
          }
        });
        divEnviar.append(botaoEnviar);
        let labelInfo = document.createElement("label");
        labelInfo.style = "width: 100%;height: auto;display: flex;align-items: center;place-content: center;font-size: 15px;font-family: sans-serif;font-weight: 500;margin-bottom: 10px;justify-content: center;align-content: center;";
        labelInfo.classList.add("info_");
        let divDorefresh = document.createElement("div");
        divDorefresh.style = 'width: 100%;height: 100%;display: flex;justify-content: center;flex-direction: column;align-items: center;';
        let addGrupo = document.createElement("button");
        addGrupo.style = "margin-bottom: 20px;border-radius: 7px;";
        addGrupo.textContent = "Grupos";
        addGrupo.addEventListener("click", function() {
          document.querySelector("body > div:nth-child(2)").style.height = "100%";
        });
        divDorefresh.append(addGrupo);
        let butaoRefresh = document.createElement("button");
        butaoRefresh.style = "margin-bottom: 20px;border-radius: 7px;";
        butaoRefresh.textContent = "Atualizar imagens";
        butaoRefresh.addEventListener("click", function() {
          document.body.outerHTML = '';
          new obterContents();
        });
        divDorefresh.append(butaoRefresh);
        let procurarItem = document.createElement("div");
        procurarItem.style = 'width: 100%;height: auto;display: flex;justify-content: center;flex-direction: row;align-items: center;margin-bottom: 15px;';
        let inputProcurar = document.createElement("input");
        inputProcurar.type = "text";
        inputProcurar.style = "border-radius: 5px;text-align: center;";
        inputProcurar.classList.add("procurarimagem");
        inputProcurar.setAttribute("placeholder", "Procurar imagem");
        ["change", "keydown", "keyup"].forEach(function(e) {
          inputProcurar.addEventListener(e, function() {
            filtrartipo();
            let inputfiltrado = this.value.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, "");
            if (this.value.length > 0) {
              document.querySelector(".clearTexto").style.removeProperty("display");
            } else {
              document.querySelector(".clearTexto").style.setProperty("display", "none");
            }
            document.querySelectorAll(".nomedoproduto").forEach(function(e) {
              if (e.parentElement.style.display != "none") {
                let textofiltrado = e.value.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, "");
                if (textofiltrado.includes(inputfiltrado)) {
                  e.parentElement.style.setProperty("display", "flex");
                } else {
                  e.parentElement.style.setProperty("display", "none");
                }
              }
            });
          });
        });
        procurarItem.append(inputProcurar);
        let clearTexto = document.createElement("div");
        clearTexto.style.backgroundImage = 'url("data:image/png;base64,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")';
        clearTexto.style.width = '14px';
        clearTexto.style.height = '14px';
        clearTexto.style.backgroundRepeat = 'no-repeat';
        clearTexto.style.backgroundSize = 'contain';
        clearTexto.style.backgroundPosition = 'center, center';
        clearTexto.style.marginLeft = '-18px';
        clearTexto.style.cursor = 'pointer';
        clearTexto.style.display = 'none';
        clearTexto.classList.add("clearTexto");
        clearTexto.addEventListener("click", function() {
          document.querySelector(".procurarimagem").value = '';
          document.querySelectorAll(".nomedoproduto").forEach(function(e) {
            e.parentElement.style.removeProperty("position");
          });
          filtrartipo();
          this.style.setProperty("display", "none");
        });
        procurarItem.append(clearTexto);
        mainDiv.append(divEnviar);
        mainDiv.append(labelInfo);
        mainDiv.append(divDorefresh);
        mainDiv.append(procurarItem);
        let DivPrincipalFiltrar = document.createElement("div");
        DivPrincipalFiltrar.style = "margin: 10px;font-family: sans-serif;font-size: 20px;width: 100%;height: auto;display: flex;flex-direction: column;flex-wrap: wrap;align-content: center;justify-content: center;align-items: center;";
        let LabelFiltrar = document.createElement("label");
        LabelFiltrar.textContent = "Filtrar tipos";
        DivPrincipalFiltrar.append(LabelFiltrar);
        let DivDosCheckbox = document.createElement("div");
        DivDosCheckbox.style = "display: flex;flex-direction: row;margin: 10px;align-items: center;font-family: monospace;font-size: 13px;flex-wrap: wrap;justify-content: center;align-content: center;width: 85%;";
        ["Todos", "Croppeds", "Conjuntos", "Vestidos", "Saias", "Calças", "Sem nome / valor"].forEach(function(e) {
          let div = document.createElement("div");
          div.style = "display: flex;align-items: center;justify-content: center;";
          if (e == "Todos") {
            div.addEventListener("click", function(e) {
              if (!e.target.value) {
                if (this.querySelector("input").checked) {
                  document.querySelectorAll("input[type=checkbox]").forEach(function(e) {
                    e.checked = false;
                  });
                  this.querySelector("input").checked = false;
                  filtrartipo();
                } else {
                  document.querySelectorAll("input[type=checkbox]").forEach(function(e) {
                    e.checked = true;
                  });
                  this.querySelector("input").checked = true;
                  filtrartipo();
                }
              } else {
                if (e.target.checked) {
                  document.querySelectorAll("input[type=checkbox]").forEach(function(e) {
                    e.checked = true;
                  });
                  filtrartipo();
                } else {
                  document.querySelectorAll("input[type=checkbox]").forEach(function(e) {
                    e.checked = false;
                  });
                  filtrartipo();
                }
              }
            });
          } else {
            div.addEventListener("click", function(e) {
              if (!e.target.value) {
                if (this.children[0].checked) {
                  this.children[0].checked = false;
                  filtrartipo();
                } else {
                  this.children[0].checked = true;
                  filtrartipo();
                }
              } else {
                filtrartipo();
              }
            });
          }
          let checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.value = e.match(/\s+\//i) ? e.replace(/\s+\//i, "").replaceAll(" ", "").toLowerCase() : e.match(/(ç|Ç)/i) ? e.replace(/(ç|Ç)/i, "c").toLowerCase() : e.toLowerCase();
          checkbox.checked = true;
          div.append(checkbox);
          let label = document.createElement("label");
          label.style = "padding-right: 2px;padding-left: 2px;";
          label.textContent = e;
          div.append(label);
          DivDosCheckbox.append(div);
        });
        DivPrincipalFiltrar.append(DivDosCheckbox);
        mainDiv.append(DivPrincipalFiltrar);
        document.body.appendChild(mainDiv);
        let divdosgrupomain = document.createElement("div");
        divdosgrupomain.style = "width: 100%;height: 0%;background-color: #ffffffe0;display: flex;flex-direction: column;align-items: center;justify-content: flex-start;align-content: center;padding-top: 10px;position: fixed;top: 0;left: 0;backdrop-filter: blur(5px);transition: .5s;overflow: hidden;";
        let fechargrupo = document.createElement("button");
        fechargrupo.style = "margin-bottom: 8px;";
        fechargrupo.textContent = "Fechar menu";
        fechargrupo.addEventListener("click", function() {
          this.parentElement.style.height = "0%";
        });
        divdosgrupomain.append(fechargrupo);
        let labeldosgrupo = document.createElement("label");
        labeldosgrupo.style = "font-size: 30px;";
        labeldosgrupo.textContent = "Grupos";
        divdosgrupomain.append(labeldosgrupo);
        let divadicionados = document.createElement("div");
        divadicionados.style = "margin: 15px;display: flex;flex-direction: column;align-items: center;overflow: auto;";
        let divdoadicionar = document.createElement("div");
        divdoadicionar.style = "margin-bottom: 15px;";
        let divdoadicionarinput = document.createElement("input");
        divdoadicionarinput.type = "text";
        divdoadicionarinput.setAttribute("placeholder", "Nome do grupo");
        divdoadicionarinput.style = "max-width: 150px;margin-right: 5px;";
        divdoadicionar.append(divdoadicionarinput);
        let divdoadicionarbutton = document.createElement("button");
        divdoadicionarbutton.textContent = "Adicionar novo grupo";
        divdoadicionarbutton.addEventListener("click", function() {
          let ssctt = JSON.parse(atou(JSON.parse(sessionStorage.getItem("grupos")).content));
          let sssha = JSON.parse(sessionStorage.getItem("grupos")).sha;
          let onomeqq = this.parentElement.children[0].value;
          if (onomeqq.length == 0) {
            alert("Por favor, digite um nome");
          } else {
            if (ssctt.grupos.find(f => f.grupo == onomeqq)) {
              alert("Um grupo com o mesmo nome já existe\nForneça outro nome ou\nMude o nome do grupo existente");
            } else {
              let con = confirm("Tem certeza que deseja adicionar esse grupo " + onomeqq + " ?");
              if (con == true) {
                ssctt.grupos.push({
                  "grupo": onomeqq
                });
                let conteudoformatado = btou(JSON.stringify(ssctt));
                req = new XMLHttpRequest();
                req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/grupos.json', true);
                req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
                req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
                req.send('{"message":"Grupo ' + onomeqq + ' adicionado","sha":"' + sssha + '","content":"' + conteudoformatado + '"}');
                req.onload = function() {
                  if (JSON.parse(req.response)) {
                    if (JSON.parse(req.response).message) {
                      alert("Falha ao tentar adicionar grupo\n" + JSON.parse(req.response).message);
                    } else {
                      sessionStorage.setItem("grupos", JSON.stringify({
                        "sha": JSON.parse(req.response).content.sha,
                        "content": conteudoformatado
                      }));
                      alert("Grupo adicionado com sucesso!");
                      document.querySelectorAll("body > div:nth-child(2) > div > div").forEach(function(e, i) {
                        if (i != 0) {
                          e.remove();
                        }
                      });
                      JSON.parse(atou(JSON.parse(sessionStorage.getItem("grupos")).content)).grupos.forEach(function(e) {
                        let divcontent = document.createElement("div");
                        divcontent.style = "width: fit-content;display: flex;flex-direction: column;align-items: center;justify-content: center;margin-bottom: 15px;";
                        let onome = document.createElement("input");
                        onome.setAttribute("placeholder", e.grupo);
                        onome.value = e.grupo;
                        onome.style = "margin-bottom: 5px;text-align: center;";
                        divcontent.append(onome);
                        let btnalterar = document.createElement("button");
                        btnalterar.textContent = "Alterar nome do grupo";
                        btnalterar.style = "margin-bottom: 5px;";
                        btnalterar.addEventListener("click", function() {
                          let ssctt = JSON.parse(atou(JSON.parse(sessionStorage.getItem("grupos")).content));
                          let sssha = JSON.parse(sessionStorage.getItem("grupos")).sha;
                          let originalvalue = this.parentElement.children[0].getAttribute("placeholder");
                          let indx = ssctt.grupos.findIndex(f => f.grupo == originalvalue);
                          if (this.parentElement.children[0].value == originalvalue) {
                            alert("Altere o texto primeiro e depois clique no botão");
                          } else {
                            if (this.parentElement.children[0].value.length == 0) {
                              alert("Por favor, digite um texto...");
                            } else {
                              let con = confirm("Tem certeza que deseja alterar o nome desse grupo?");
                              if (con == true) {
                                ssctt.grupos[indx].grupo = this.parentElement.children[0].value;
                                let conteudoformatado = btou(JSON.stringify(ssctt));
                                req = new XMLHttpRequest();
                                req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/grupos.json', true);
                                req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
                                req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
                                req.send('{"message":"Grupo ' + ssctt.grupos[indx].grupo + ' alterado","sha":"' + sssha + '","content":"' + conteudoformatado + '"}');
                                req.onload = function() {
                                  if (JSON.parse(req.response)) {
                                    if (JSON.parse(req.response).message) {
                                      alert("Falha ao tentar alterar o nome do grupo\n" + JSON.parse(req.response).message);
                                    } else {
                                      sessionStorage.setItem("grupos", JSON.stringify({
                                        "sha": JSON.parse(req.response).content.sha,
                                        "content": conteudoformatado
                                      }));
                                      alert("Nome do grupo alterado com sucesso!");
                                    }
                                  } else {
                                    alert("Ocorreu algum erro... " + req.response);
                                  }
                                };
                              }
                            }
                          }
                        });
                        divcontent.append(btnalterar);
                        let btnremover = document.createElement("button");
                        btnremover.textContent = "Remover grupo";
                        btnremover.style = "margin-bottom: 5px;";
                        btnremover.addEventListener("click", function() {
                          let con = confirm("Tem certeza que deseja remover este grupo\n" + this.parentElement.children[0].value + "\n?");
                          if (con == true) {
                            let ssctt = JSON.parse(atou(JSON.parse(sessionStorage.getItem("grupos")).content));
                            let sssha = JSON.parse(sessionStorage.getItem("grupos")).sha;
                            let indx = ssctt.grupos.findIndex(f => f.grupo == this.parentElement.children[0].value);
                            ssctt.grupos.splice(indx, 1);
                            let conteudoformatado = btou(JSON.stringify(ssctt));
                            req = new XMLHttpRequest();
                            req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/grupos.json', true);
                            req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
                            req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                            req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
                            req.send('{"message":"Grupo ' + this.parentElement.children[0].value + ' removido","sha":"' + sssha + '","content":"' + conteudoformatado + '"}');
                            let toremove = this.parentElement;
                            req.onload = function() {
                              if (JSON.parse(req.response)) {
                                if (JSON.parse(req.response).message) {
                                  alert("Falha ao tentar apagar grupo\n" + JSON.parse(req.response).message);
                                } else {
                                  sessionStorage.setItem("grupos", JSON.stringify({
                                    "sha": JSON.parse(req.response).content.sha,
                                    "content": conteudoformatado
                                  }));
                                  alert("Grupo " + toremove.children[0].value + " removido!");
                                  toremove.remove();
                                }
                              } else {
                                alert("Ocorreu algum erro... " + req.response);
                              }
                            };
                          };
                        });
                        divcontent.append(btnremover);
                        wwm("body > div:nth-child(2) > div").then(function() {
                          document.querySelector("body > div:nth-child(2) > div").append(divcontent);
                        });
                      });
                    }
                  } else {
                    alert("Ocorreu algum erro... " + req.response);
                  }
                };
              }
            }
          }
        });
        divdoadicionar.append(divdoadicionarbutton);
        divadicionados.append(divdoadicionar);
        let labelgruposexistentes = document.createElement("label");
        labelgruposexistentes.style = "font-size: 25px;margin-bottom: 15px;";
        labelgruposexistentes.textContent = "Grupos existentes";
        divadicionados.append(labelgruposexistentes);
        divdosgrupomain.append(divadicionados);
        document.body.appendChild(divdosgrupomain);
        JSON.parse(atou(JSON.parse(sessionStorage.getItem("grupos")).content)).grupos.forEach(function(e) {
          let divcontent = document.createElement("div");
          divcontent.style = "width: fit-content;display: flex;flex-direction: column;align-items: center;justify-content: center;margin-bottom: 15px;";
          let onome = document.createElement("input");
          onome.setAttribute("placeholder", e.grupo);
          onome.value = e.grupo;
          onome.style = "margin-bottom: 5px;text-align: center;";
          divcontent.append(onome);
          let btnalterar = document.createElement("button");
          btnalterar.textContent = "Alterar nome do grupo";
          btnalterar.style = "margin-bottom: 5px;";
          btnalterar.addEventListener("click", function() {
            let ssctt = JSON.parse(atou(JSON.parse(sessionStorage.getItem("grupos")).content));
            let sssha = JSON.parse(sessionStorage.getItem("grupos")).sha;
            let originalvalue = this.parentElement.children[0].getAttribute("placeholder");
            let indx = ssctt.grupos.findIndex(f => f.grupo == originalvalue);
            if (this.parentElement.children[0].value == originalvalue) {
              alert("Altere o texto primeiro e depois clique no botão");
            } else {
              if (this.parentElement.children[0].value.length == 0) {
                alert("Por favor, digite um texto...");
              } else {
                let con = confirm("Tem certeza que deseja alterar o nome desse grupo?");
                if (con == true) {
                  ssctt.grupos[indx].grupo = this.parentElement.children[0].value;
                  let conteudoformatado = btou(JSON.stringify(ssctt));
                  req = new XMLHttpRequest();
                  req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/grupos.json', true);
                  req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
                  req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                  req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
                  req.send('{"message":"Grupo ' + ssctt.grupos[indx].grupo + ' alterado","sha":"' + sssha + '","content":"' + conteudoformatado + '"}');
                  req.onload = function() {
                    if (JSON.parse(req.response)) {
                      if (JSON.parse(req.response).message) {
                        alert("Falha ao tentar alterar o nome do grupo\n" + JSON.parse(req.response).message);
                      } else {
                        sessionStorage.setItem("grupos", JSON.stringify({
                          "sha": JSON.parse(req.response).content.sha,
                          "content": conteudoformatado
                        }));
                        alert("Nome do grupo alterado com sucesso!");
                      }
                    } else {
                      alert("Ocorreu algum erro... " + req.response);
                    }
                  };
                }
              }
            }
          });
          divcontent.append(btnalterar);
          let btnremover = document.createElement("button");
          btnremover.textContent = "Remover grupo";
          btnremover.style = "margin-bottom: 5px;";
          btnremover.addEventListener("click", function() {
            let con = confirm("Tem certeza que deseja remover este grupo\n" + this.parentElement.children[0].value + "\n?");
            if (con == true) {
              let ssctt = JSON.parse(atou(JSON.parse(sessionStorage.getItem("grupos")).content));
              let sssha = JSON.parse(sessionStorage.getItem("grupos")).sha;
              let indx = ssctt.grupos.findIndex(f => f.grupo == this.parentElement.children[0].value);
              ssctt.grupos.splice(indx, 1);
              let conteudoformatado = btou(JSON.stringify(ssctt));
              req = new XMLHttpRequest();
              req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/grupos.json', true);
              req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
              req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
              req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
              req.send('{"message":"Grupo ' + this.parentElement.children[0].value + ' removido","sha":"' + sssha + '","content":"' + conteudoformatado + '"}');
              let toremove = this.parentElement;
              req.onload = function() {
                if (JSON.parse(req.response)) {
                  if (JSON.parse(req.response).message) {
                    alert("Falha ao tentar apagar grupo\n" + JSON.parse(req.response).message);
                  } else {
                    sessionStorage.setItem("grupos", JSON.stringify({
                      "sha": JSON.parse(req.response).content.sha,
                      "content": conteudoformatado
                    }));
                    alert("Grupo " + toremove.children[0].value + " removido!");
                    toremove.remove();
                  }
                } else {
                  alert("Ocorreu algum erro... " + req.response);
                }
              };
            };
          });
          divcontent.append(btnremover);
          wwm("body > div:nth-child(2) > div").then(function() {
            document.querySelector("body > div:nth-child(2) > div").append(divcontent);
          });
        });

        function obterDados(caminho, sha) {
          caminho = caminho.replace("https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/", "https://raw.githubusercontent.com/missstore/missstore.github.io/main/assets/img/");
          var req = new XMLHttpRequest();
          req.open('GET', caminho + '/info.json', true);
          req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
          req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
          req.send();
          req.onload = function() {
            if (req.response.includes("too many requests")) {
              alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
              window.location.assign("manager");
            } else if (JSON.parse(req.response).message) {
              alert("Falha ao obter dados\n" + JSON.parse(req.response).message);
            } else {
              let onde = caminho.substring(caminho.indexOf("missstore.github.io") + 20, caminho.length);
              onde = onde.replace("main/", "") + "/";
              let tipo = caminho.split("/")[8];
              JSON.parse(req.response).info.forEach(function(e) {
                sessionStorage.setItem(onde.split("/")[2], JSON.stringify({
                  "sha": sha,
                  "content": btou(JSON.stringify(JSON.parse(req.response)))
                }));
                if (Array.from(document.querySelectorAll("label")).find(f => f.textContent == onde + e.src)) {
                  let arEn = Array.from(document.querySelectorAll("label")).find(f => f.textContent == onde + e.src);
                  arEn.parentElement.querySelector(".nomedoproduto").value = e.nome;
                  arEn.parentElement.querySelector(".valordoproduto").value = e.valor;
                  let lgt = arEn.parentElement.querySelector("[placeholder=Grupos]").options.length;
                  if (e.grupo) {
                    for (let i = 0; i < lgt; i++) {
                      if (arEn.parentElement.querySelector("[placeholder=Grupos]").options.item(i).value == e.grupo) {
                        arEn.parentElement.querySelector("[placeholder=Grupos]").options.item(i).selected = true;
                        break;
                      }
                      if (i == lgt - 1) {
                        arEn.parentElement.querySelector("[placeholder=Grupos]").options.selectedIndex = -1;
                      }
                    }
                  } else {
                    arEn.parentElement.querySelector("[placeholder=Grupos]").options.selectedIndex = -1;
                  }
                  arEn.parentElement.querySelectorAll("button")[4].onclick = function() {
                    let _this = this;
                    if (_this.parentElement.querySelector("select").value != _this.parentElement.getAttribute("tipo")) {
                      let con = confirm("Tem certeza que deseja mudar o tipo?");
                      if (con == true) {
                        alert("Não faça nenhuma ação\nAguarde no máximo 5 minutos ou até aparecer uma mensagem\nSe nada acontecer atualize a página");
                        let tsha = _this.parentElement.querySelectorAll("label")[0].textContent;
                        let tpath = _this.parentElement.querySelectorAll("label")[2].textContent;
                        let src = _this.parentElement.querySelectorAll("label")[2].textContent;
                        let nomedoproduto = _this.parentElement.querySelector(".nomedoproduto").value;
                        let valordoproduto = _this.parentElement.querySelector(".valordoproduto").value;
                        let novotipo = _this.parentElement.querySelector("select").value;
                        let url = _this.parentElement.children[0].style.backgroundImage;
                        let srcsempath = _this.parentElement.querySelectorAll("label")[2].textContent.split("/")[3];
                        let adicionarnovotipo = JSON.parse(atou(JSON.parse(sessionStorage.getItem(novotipo)).content))
                        if (adicionarnovotipo.info.find(f => f.src == _this.parentElement.querySelectorAll("label")[1].textContent)) {
                          let indexdo = adicionarnovotipo.info.findIndex(f => f.src == _this.parentElement.querySelectorAll("label")[1].textContent);
                          adicionarnovotipo.info[indexdo].nome = _this.parentElement.querySelector(".nomedoproduto").value;
                          adicionarnovotipo.info[indexdo].valor = _this.parentElement.querySelector(".valordoproduto").value;
                        } else {
                          adicionarnovotipo.info.push({
                            "src": src.split("/")[3],
                            "valor": valordoproduto,
                            "nome": nomedoproduto
                          });
                        }
                        let conteudoformatado = btou(JSON.stringify(adicionarnovotipo));
                        let shadonovotipo = JSON.parse(sessionStorage.getItem(novotipo)).sha;
                        var img = new Image();
                        var req = new XMLHttpRequest();
                        img.crossOrigin = 'Anonymous';
                        url = url.substring(5, url.length - 2);
                        img.src = url;
                        img.onload = function() {
                          var canvas = document.createElement('canvas'),
                            ctx = canvas.getContext('2d');
                          canvas.height = img.naturalHeight;
                          canvas.width = img.naturalWidth;
                          ctx.drawImage(img, 0, 0);
                          var uri = canvas.toDataURL('image/' + img.src.split(".")[img.src.split(".").length - 1]),
                            b64 = uri.replace(/^data:image.+;base64,/, '');
                          req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/' + novotipo + "/" + srcsempath, true);
                          req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
                          req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                          req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
                          req.send('{"message":"' + srcsempath + ' enviado","content":"' + b64 + '"}');
                          req.onload = function() {
                            if (req.response.includes("too many requests")) {
                              alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
                              window.location.assign("manager");
                            } else if (JSON.parse(req.response).message) {
                              if (JSON.parse(req.response).message.includes("sha")) {
                                req = new XMLHttpRequest();
                                req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/' + novotipo + "/info.json", true);
                                req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
                                req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
                                req.send('{"message":"' + novotipo + ' info.json alterado","sha":"' + shadonovotipo + '","content":"' + conteudoformatado + '"}');
                                req.onload = function() {
                                  if (req.response.includes("too many requests")) {
                                    alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
                                    window.location.assign("manager");
                                  } else if (JSON.parse(req.response).message) {
                                    alert("Falha ao tentar modificar / inserir\n" + JSON.parse(req.response).message);
                                    obterContents();
                                  } else {
                                    sessionStorage.setItem(JSON.parse(req.response).content.path.replace("assets/img/", "").split("/")[0], JSON.stringify({
                                      "sha": JSON.parse(req.response).content.sha,
                                      "content": conteudoformatado
                                    }));
                                    deletarArquivo(tpath, tsha);
                                    alert("Tipo e informações alterado com sucesso!\nPrecisa apagar a foto do tipo anterior\nAguarde a mensagem aparecer...\nInforme qualquer error/falha");
                                  }
                                };
                              } else {
                                alert("Falha ao enviar a foto " + srcsempath + "\n" + JSON.parse(req.response).message);
                              }
                            } else {
                              req = new XMLHttpRequest();
                              req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/' + novotipo + "/info.json", true);
                              req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
                              req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                              req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
                              req.send('{"message":"' + novotipo + ' info.json alterado","sha":"' + shadonovotipo + '","content":"' + conteudoformatado + '"}');
                              req.onload = function() {
                                if (req.response.includes("too many requests")) {
                                  alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
                                  window.location.assign("manager");
                                } else if (JSON.parse(req.response).message) {
                                  alert("Falha ao tentar modificar / inserir\n" + JSON.parse(req.response).message);
                                  obterContents();
                                } else {
                                  sessionStorage.setItem(JSON.parse(req.response).content.path.replace("assets/img/", "").split("/")[0], JSON.stringify({
                                    "sha": JSON.parse(req.response).content.sha,
                                    "content": conteudoformatado
                                  }));
                                  deletarArquivo(tpath, tsha);
                                  alert("Tipo e informações alterado com sucesso!\nPrecisa apagar a foto do tipo anterior\nAguarde a mensagem aparecer...\nInforme qualquer error/falha");
                                }
                              };
                            }
                          };
                        };
                        img.onerror = function() {
                          alert("Falha ao tentar modificar o tipo\nVerifique sua conexão e tente novamente");
                        };
                      }
                    } else {
                      let oSha = JSON.parse(sessionStorage.getItem(onde.split("/")[2])).sha,
                        conteudo = JSON.parse(atou(JSON.parse(sessionStorage.getItem(onde.split("/")[2])).content)),
                        conteudosendomodificado = _this.parentElement.querySelectorAll("label")[1].textContent,
                        indexdoconteudo = conteudo.info.findIndex(f => f.src == conteudosendomodificado),
                        nomeaenviar = onde.replace("assets/img/", "") + "info.json";
                      if (conteudo.info[indexdoconteudo].nome == _this.parentElement.querySelector(".nomedoproduto").value && conteudo.info[indexdoconteudo].valor == _this.parentElement.querySelector(".valordoproduto").value) {
                        alert("Nada a alterar");
                      } else {
                        let con = confirm("Tem certeza que deseja inserir / modificar esta foto?");
                        con == true ? (conteudo.info[indexdoconteudo].nome = _this.parentElement.querySelector(".nomedoproduto").value, conteudo.info[indexdoconteudo].valor = _this.parentElement.querySelector(".valordoproduto").value, ModificarArquivo(oSha, nomeaenviar, btou(JSON.stringify(conteudo)))) : null;
                      }
                    }
                  };
                }
              });
            }
          };
        }

        function obterTodos(caminho) {
          var req = new XMLHttpRequest();
          req.open('GET', caminho, true);
          req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
          req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
          req.send();
          req.onload = function() {
            if (req.response.includes("too many requests")) {
              alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
              window.location.assign("manager");
            } else if (JSON.parse(req.response).message) {
              alert("Falha ao obter todos\n" + JSON.parse(req.response).message);
            } else {
              let temp = [];
              let tipo = caminho.split("/")[9];
              JSON.parse(req.response).forEach(function(e, i) {
                e.name.endsWith(".png") || e.name.endsWith(".jpeg") || e.name.endsWith(".jpg") || e.name.endsWith(".svg") || e.name.endsWith(".gif") || e.name.endsWith(".json") ? temp.push(e) : null;
                if (i == JSON.parse(req.response).length - 1) {
                  if (temp.length == 0) {
                    document.querySelector(".info_").textContent = "Não foram encontrado resultados";
                  } else {
                    temp.forEach(function(e, i) {
                      if (!e.name.endsWith(".json")) {
                        let divArquivo = document.createElement("div");
                        divArquivo.style = 'display: flex;flex-direction: column;margin-bottom: 20px;padding-left: 10px;padding-right: 10px;';
                        divArquivo.setAttribute("tipo", tipo);
                        let Imagem = document.createElement("div");
                        Imagem.style.backgroundImage = "url(" + e.download_url + ")";
                        Imagem.style.width = "250px";
                        Imagem.style.height = "250px";
                        Imagem.style.backgroundSize = "cover";
                        Imagem.style.backgroundRepeat = "no-repeat";
                        divArquivo.append(Imagem);
                        let SHA = document.createElement("label");
                        SHA.textContent = e.sha;
                        SHA.style = 'display:none;';
                        divArquivo.append(SHA);
                        let NOME = document.createElement("label");
                        NOME.textContent = e.name;
                        NOME.style = 'display:none;';
                        divArquivo.append(NOME);
                        let CaminhoEm = document.createElement("label");
                        CaminhoEm.textContent = e.path;
                        CaminhoEm.style = 'display:none;';
                        divArquivo.append(CaminhoEm);
                        let nomeDoproduto = document.createElement("input");
                        nomeDoproduto.classList.add("nomedoproduto");
                        nomeDoproduto.type = "text";
                        nomeDoproduto.style = "margin-top: 3px;text-align: center;margin-bottom: 3px;";
                        nomeDoproduto.setAttribute("placeholder", "Nome do produto");
                        divArquivo.append(nomeDoproduto);
                        let valorDoproduto = document.createElement("input");
                        valorDoproduto.classList.add("valordoproduto");
                        valorDoproduto.type = "text";
                        valorDoproduto.style = "margin-top: 3px;text-align: center;margin-bottom: 3px;";
                        valorDoproduto.setAttribute("placeholder", "Valor do produto");
                        valorDoproduto.addEventListener("change", function() {
                          if (this.value.match(/[0-9]+,[0-9]*/i)) {
                            this.value = this.value.match(/[0-9]+,[0-9]*/i)[0];
                          } else {
                            this.value.match(/[0-9]+[0-9]*/i) ? this.value = this.value.match(/[0-9]+[0-9]*/i)[0] : null;
                          }
                        });
                        divArquivo.append(valorDoproduto);
                        let EsseTipo = document.createElement("select");
                        EsseTipo.style = "margin-top: 3px;text-align: center;margin-bottom: 3px;text-transform: capitalize;";
                        let opts = ['saias', 'croppeds', 'vestidos', 'calcas', 'conjuntos'];
                        opts.forEach(function(e) {
                          let tempRes = document.createElement("option");
                          if (e == tipo) {
                            tempRes.value = e;
                            tempRes.textContent = e;
                            tempRes.selected = true;
                          } else {
                            tempRes.value = e;
                            tempRes.textContent = e;
                          }
                          EsseTipo.append(tempRes)
                        });
                        divArquivo.append(EsseTipo);
                        let divalinhargrupo = document.createElement("div");
                        divalinhargrupo.style = "width: auto; display: flex; flex-direction: column; overflow: hidden; margin-top: 2px; transition: all 1s ease 0s; border-style: groove; border-color: burlywood; border-radius: 3px; padding: 2px 2px 1px; place-content: center flex-start; height: 23px;";
                        let buttonexpand = document.createElement("button");
                        buttonexpand.textContent = "Grupos";
                        buttonexpand.style = "text-align: center;margin-bottom: 3px;";
                        buttonexpand.addEventListener("click", function() {
                          if (this.parentElement.style.height == "23px") {
                            this.parentElement.style.height = "107px";
                          } else {
                            this.parentElement.style.height = "23px";
                          }
                        });
                        divalinhargrupo.append(buttonexpand);
                        let selectdogrupo = document.createElement("select");
                        selectdogrupo.style = "margin-top: 3px; text-align: center; margin-bottom: 3px; text-transform: capitalize;";
                        selectdogrupo.setAttribute("placeholder", "Grupos");
                        if (JSON.parse(atou(JSON.parse(sessionStorage.getItem("grupos")).content)).grupos.length > 0) {
                          let temp_ = [];
                          JSON.parse(atou(JSON.parse(sessionStorage.getItem("grupos")).content)).grupos.forEach(function(e) {
                            temp_.push(e.grupo);
                          });
                          if (temp_.length > 0) {
                            temp_.forEach(function(e) {
                              let tempRes = document.createElement("option");
                              tempRes.value = e;
                              tempRes.textContent = e;
                              selectdogrupo.append(tempRes)
                            });
                          }
                        }
                        divalinhargrupo.append(selectdogrupo);
                        let buttonalteraradicionar = document.createElement("button");
                        buttonalteraradicionar.style = "margin-top: 3px;margin-bottom: 3px;";
                        buttonalteraradicionar.textContent = "Adicionar / Alterar grupo";
                        buttonalteraradicionar.addEventListener("click", function() {
                          if (this.parentElement.children[1].value == "") {
                            alert("Selecione um grupo primeiro\nSe quiser alterar, adicionar ou excluir um grupo\nUser o botão Grupos lá encima");
                          } else {
                            let onde = this.parentElement.parentElement.querySelectorAll("label")[2].textContent.split("/")[2];
                            let srcdaimg = this.parentElement.parentElement.querySelectorAll("label")[1].textContent;
                            let valordogrupo = this.parentElement.children[1].value;
                            let shadotipo = JSON.parse(sessionStorage.getItem(onde)).sha,
                              nomeaenviar = onde + '/info.json';
                            let conteudo = JSON.parse(atou(JSON.parse(sessionStorage.getItem(onde)).content));
                            let indexdomesmo = conteudo.info.findIndex(f => f.src == srcdaimg);
                            if (conteudo.info[indexdomesmo].grupo == valordogrupo) {
                              alert("Essa foto já está nesse grupo " + valordogrupo);
                            } else {
                              let con = confirm("Tem certeza que deseja alterar/adicionar grupo?");
                              if (con == true) {
                                conteudo.info[indexdomesmo].grupo = valordogrupo;
                                ModificarArquivo(shadotipo, nomeaenviar, btou(JSON.stringify(conteudo)));
                              }
                            }
                          }
                        });
                        divalinhargrupo.append(buttonalteraradicionar);
                        let buttonremover = document.createElement("button");
                        buttonremover.style = "margin-top: 3px;margin-bottom: 3px;";
                        buttonremover.textContent = "Remover do grupo";
                        buttonremover.addEventListener("click", function() {
                          let onde = this.parentElement.parentElement.querySelectorAll("label")[2].textContent.split("/")[2];
                          let srcdaimg = this.parentElement.parentElement.querySelectorAll("label")[1].textContent;
                          let valordogrupo = this.parentElement.children[1].value;
                          let shadotipo = JSON.parse(sessionStorage.getItem(onde)).sha,
                            nomeaenviar = onde + '/info.json';
                          let conteudo = JSON.parse(atou(JSON.parse(sessionStorage.getItem(onde)).content));
                          let indexdomesmo = conteudo.info.findIndex(f => f.src == srcdaimg);
                          if (conteudo.info[indexdomesmo]) {
                            if (conteudo.info[indexdomesmo].grupo == '') {
                              alert("Grupo já removido ou nenhum grupo para remover.");
                            } else {
                              let con = confirm("Tem certeza que deseja remover essa foto desse grupo " + valordogrupo + "?");
                              if (con == true) {
                                conteudo.info[indexdomesmo].grupo = '';
                                this.parentElement.children[1].selectedIndex = -1;
                                ModificarArquivo(shadotipo, nomeaenviar, btou(JSON.stringify(conteudo)));
                              }
                            }
                          } else {
                            alert("Nome e valores ainda não constam no sistema\nfique atualizando até aparecer");
                          }
                        });
                        divalinhargrupo.append(buttonremover);
                        divArquivo.append(divalinhargrupo);
                        let AlterarModo = document.createElement("button");
                        AlterarModo.textContent = 'Alterar modo de ver';
                        AlterarModo.style = 'margin-top: 3px;margin-bottom: 3px;';
                        AlterarModo.addEventListener("click", function() {
                          if (this.parentElement.children[0].style.backgroundSize == "contain") {
                            this.parentElement.children[0].style.removeProperty("background-position");
                            this.parentElement.children[0].style.backgroundSize = "cover";
                          } else {
                            this.parentElement.children[0].style.backgroundPosition = "center,center";
                            this.parentElement.children[0].style.backgroundSize = "contain";
                          }
                        });
                        divArquivo.append(AlterarModo);
                        let botaoModificar = document.createElement("button");
                        botaoModificar.textContent = 'Inserir / Modificar';
                        botaoModificar.style = 'margin-top: 3px;margin-bottom: 3px;';
                        botaoModificar.onclick = function() {
                          let OE = this;
                          if (OE.parentElement.querySelector("select").value != OE.parentElement.getAttribute("tipo")) {
                            let con = confirm("Tem certeza que deseja mudar o tipo?");
                            if (con == true) {
                              alert("Não faça nenhuma ação\nAguarde no máximo 5 minutos ou até aparecer uma mensagem\nSe nada acontecer atualize a página");
                              let tsha = OE.parentElement.querySelectorAll("label")[0].textContent;
                              let tpath = OE.parentElement.querySelectorAll("label")[2].textContent;
                              let src = OE.parentElement.querySelectorAll("label")[2].textContent;
                              let nomedoproduto = OE.parentElement.querySelector(".nomedoproduto").value;
                              let valordoproduto = OE.parentElement.querySelector(".valordoproduto").value;
                              let novotipo = OE.parentElement.querySelector("select").value;
                              let url = OE.parentElement.children[0].style.backgroundImage;
                              let srcsempath = OE.parentElement.querySelectorAll("label")[2].textContent.split("/")[3];
                              let adicionarnovotipo = JSON.parse(atou(JSON.parse(sessionStorage.getItem(novotipo)).content))
                              if (adicionarnovotipo.info.find(f => f.src == OE.parentElement.querySelectorAll("label")[1].textContent)) {
                                let indexdo = adicionarnovotipo.info.findIndex(f => f.src == OE.parentElement.querySelectorAll("label")[1].textContent);
                                adicionarnovotipo.info[indexdo].nome = OE.parentElement.querySelector(".nomedoproduto").value;
                                adicionarnovotipo.info[indexdo].valor = OE.parentElement.querySelector(".valordoproduto").value;
                              } else {
                                adicionarnovotipo.info.push({
                                  "src": src.split("/")[3],
                                  "valor": valordoproduto,
                                  "nome": nomedoproduto
                                });
                              }
                              let conteudoformatado = btou(JSON.stringify(adicionarnovotipo));
                              let shadonovotipo = JSON.parse(sessionStorage.getItem(novotipo)).sha;
                              var img = new Image();
                              img.crossOrigin = 'Anonymous';
                              url = url.substring(5, url.length - 2);
                              img.src = url;
                              img.onload = function() {
                                var canvas = document.createElement('canvas'),
                                  ctx = canvas.getContext('2d');
                                canvas.height = img.naturalHeight;
                                canvas.width = img.naturalWidth;
                                ctx.drawImage(img, 0, 0);
                                var uri = canvas.toDataURL('image/' + img.src.split(".")[img.src.split(".").length - 1]),
                                  b64 = uri.replace(/^data:image.+;base64,/, '');
                                req = new XMLHttpRequest();
                                req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/' + novotipo + "/" + srcsempath, true);
                                req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
                                req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
                                req.send('{"message":"' + srcsempath + ' enviado","content":"' + b64 + '"}');
                                req.onload = function() {
                                  if (req.response.includes("too many requests")) {
                                    alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
                                    window.location.assign("manager");
                                  } else if (JSON.parse(req.response).message) {
                                    if (JSON.parse(req.response).message.includes("sha")) {
                                      req = new XMLHttpRequest();
                                      req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/' + novotipo + "/info.json", true);
                                      req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
                                      req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                      req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
                                      req.send('{"message":"' + novotipo + ' info.json alterado","sha":"' + shadonovotipo + '","content":"' + conteudoformatado + '"}');
                                      req.onload = function() {
                                        if (req.response.includes("too many requests")) {
                                          alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
                                          window.location.assign("manager");
                                        } else if (JSON.parse(req.response).message) {
                                          alert("Falha ao tentar modificar / inserir no info.json\n" + JSON.parse(req.response).message);
                                          obterContents();
                                        } else {
                                          sessionStorage.setItem(JSON.parse(req.response).content.path.replace("assets/img/", "").split("/")[0], JSON.stringify({
                                            "sha": JSON.parse(req.response).content.sha,
                                            "content": conteudoformatado
                                          }));
                                          deletarArquivo(tpath, tsha);
                                          alert("Tipo e informações alterado com sucesso!\nPrecisa apagar a foto do tipo anterior\nAguarde a mensagem aparecer...\nInforme qualquer error/falha");
                                        }
                                      };
                                    } else {
                                      alert("Falha ao enviar a foto " + srcsempath + "\n" + JSON.parse(req.response).message);
                                    }
                                  } else {
                                    req = new XMLHttpRequest();
                                    req.open('PUT', 'https://api.github.com/repos/missstore/missstore.github.io/contents/assets/img/' + novotipo + "/info.json", true);
                                    req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
                                    req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                    req.setRequestHeader("Authorization", "token " + localStorage.getItem("_token"));
                                    req.send('{"message":"' + novotipo + ' info.json alterado","sha":"' + shadonovotipo + '","content":"' + conteudoformatado + '"}');
                                    req.onload = function() {
                                      if (req.response.includes("too many requests")) {
                                        alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
                                        window.location.assign("manager");
                                      } else if (JSON.parse(req.response).message) {
                                        alert("Falha ao tentar modificar / inserir no info.json\n" + JSON.parse(req.response).message);
                                        obterContents();
                                      } else {
                                        sessionStorage.setItem(JSON.parse(req.response).content.path.replace("assets/img/", "").split("/")[0], JSON.stringify({
                                          "sha": JSON.parse(req.response).content.sha,
                                          "content": conteudoformatado
                                        }));
                                        deletarArquivo(tpath, tsha);
                                        alert("Tipo e informações alterado com sucesso!\nPrecisa apagar a foto do tipo anterior\nAguarde a mensagem aparecer...\nInforme qualquer error/falha");
                                      }
                                    };
                                  }
                                };
                              };
                              img.onerror = function() {
                                alert("Falha ao tentar modificar o tipo\nVerifique sua conexão e tente novamente");
                              };
                            }
                          } else {
                            let onde = OE.parentElement.querySelectorAll("label")[2].textContent;
                            onde.split("/").forEach(function(e, i) {
                              i == 2 ? onde = e : null;
                            });
                            if (OE.parentElement.querySelector(".valordoproduto").value.length == 0 && OE.parentElement.querySelector(".nomedoproduto").value.length == 0) {
                              alert("Forneça um nome ou valor");
                            } else {
                              let con = confirm("Tem certeza que desaja alterar / inserir ?");
                              if (con == true) {
                                req = new XMLHttpRequest();
                                req.open('GET', 'https://raw.githubusercontent.com/missstore/missstore.github.io/main/assets/img/' + onde + '/info.json', true);
                                req.setRequestHeader('Accept', 'application/vnd.github.v3+json');
                                req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
                                req.send();
                                let essa = OE,
                                  oSha = JSON.parse(sessionStorage.getItem(onde.split("/")[0])).sha,
                                  nomeaenviar = onde + '/info.json';
                                req.onload = function() {
                                  if (req.response.includes("too many requests")) {
                                    alert("Muitas solicitações, aguarde entre 30 e 60 minutos e tente novamente");
                                    window.location.assign("manager");
                                  } else if (JSON.parse(req.response).message) {
                                    alert("Falha ao tentar modificar\n" + JSON.parse(req.response).message);
                                    obterContents();
                                  } else {
                                    let conteudo = JSON.parse(atou(JSON.parse(sessionStorage.getItem(onde)).content));
                                    let conteudosendomodificado = essa.parentElement.querySelectorAll("label")[1].textContent;
                                    conteudo.info.find(f => f.src == conteudosendomodificado) ? alert("Informações da foto já inseridas, clique em atualizar imagens até aparecer as informções.\nNão tente inserir novamente enquanto não aparecer, senão podera ocorrer erros") : (conteudo.info.push({
                                      "src": conteudosendomodificado,
                                      "valor": essa.parentElement.querySelector(".valordoproduto").value,
                                      "nome": essa.parentElement.querySelector(".nomedoproduto").value
                                    }), ModificarArquivo(oSha, nomeaenviar, btou(JSON.stringify(conteudo))));
                                  }
                                };
                              }
                            }
                          }
                        };
                        divArquivo.append(botaoModificar);
                        let botaoDeletar = document.createElement("button");
                        botaoDeletar.textContent = 'Deletar';
                        botaoDeletar.style = 'margin-top: 3px;margin-bottom: 3px;';
                        botaoDeletar.addEventListener("click", function() {
                          let nomedoarquivo = this.parentElement.querySelectorAll("label")[1].textContent;
                          let sha = this.parentElement.querySelectorAll("label")[0].textContent;
                          let path = this.parentElement.querySelectorAll("label")[2].textContent;
                          let oQue = this.parentElement.querySelector(".nomedoproduto").value.length > 0 ? this.parentElement.querySelector(".nomedoproduto").value : this.parentElement.querySelectorAll("label")[1].textContent;
                          let doispontosencima = '"',
                            addIsso = String.fromCharCode(doispontosencima.charCodeAt(0));
                          let con = confirm("Tem certeza que deseja deletar essa imagem\n" + /*addIsso +*/ oQue /*+ addIsso*/ + "\n?");
                          con == true ? (deletarArquivo(path, sha), alert("Não faça nenhuma ação\nAguarde a mensagem de confirmação\n'Foto\netc...\ndeletada'")) : null;
                        });
                        divArquivo.append(botaoDeletar);
                        document.querySelector("body > div").append(divArquivo);
                      } else {
                        new obterDados(caminho, e.sha);
                      }
                    });
                  }
                }
              });
            }
          };
        }
        osLink.split("|").forEach(function(e) {
          new obterTodos(e);
        });
      }
    </script>
  </head>
  <body style="
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    align-content: center;
    margin: 0;
    padding: 0;
    flex-direction: column;
">
    <div style="
    background-color: #03042bf7;
    color: #fff;
    display: flex;
    width: auto;
    height: 25px;
    text-align: center;
    border-radius: 20px;
    box-shadow: 0 0 5px 1px black;
    align-content: center;
    cursor: pointer;
    font-variant-caps: all-petite-caps;
    font-family: monospace;
    font-size: 22px;
    font-weight: 700;
    align-items: center;
    justify-content: center;
    line-height: 1px;
    letter-spacing: 2.84px;
    user-select: none;
    padding: 12px;

">Solicitar items</div>
  </body>
</html>