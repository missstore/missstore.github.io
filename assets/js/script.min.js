function wwm(s, f) {
	return new Promise(resolve => {
		if (document.querySelector(s)) return resolve(f);
		const observer = new MutationObserver(m => {
			if (document.querySelector(s)) {
				resolve(f);
				observer.disconnect();
			}
		});
		observer.observe(document, {
			childList: true,
			subtree: true
		});
	});
}

function AnimarHeader() {
	if (!document.querySelector(".carrinhoconteudo.aberto") && !document.querySelector(".categorias.aberto")) {
		let currentPostionY = scrollY;
		document.onscroll = function() {
			if (scrollY < currentPostionY) {
				currentPostionY = scrollY;
				document.querySelector(".header").style.removeProperty("transform");
			} else if (scrollY > currentPostionY) {
				currentPostionY = scrollY;
				document.querySelector(".header").style.transform = "translate(0, -40px)";
			}
		};
	}
}
	
function abrirFull(foto) {
	document.onscroll = null;
	document.body.style.overflow = "hidden";
	document.querySelector(".fotofullviewing").querySelector("img").src = foto;
	wwm(".fotofullviewing.aberto > i").then(function() {
		document.querySelector(".fotofullviewing.aberto > i").scrollIntoView();
	});
	history.state?history.back():null;
	setTimeout(function(){
		window.history.pushState('forward', 'foto' , '#');
		document.querySelector(".fotofullviewing").classList.add("aberto");
	},100);
}

function RequestImagens(path, mutiplos) {
	let imagestoload = [];
	mutiplos = mutiplos || false;
	function criarImages(caminho) {
		let req = new XMLHttpRequest();
		req.open("GET", "https://missstore.github.io/assets/img" + caminho + "info.txt", true);
		req.onload = function() {
			JSON.parse(req.response).info.forEach(function(e) {
				let divProdutoInteiro = document.createElement("div");
				divProdutoInteiro.classList.add("produtodiv");
				let novaImg = document.createElement("div");
				novaImg.classList.add("produtoimagen");
				novaImg.style.backgroundImage = 'url("https://missstore.github.io/assets/img' + caminho + e.src + '")';
				novaImg.style.width = "100%";
				novaImg.style.height = "100%";
				novaImg.style.backgroundRepeat = "no-repeat";
				novaImg.style.backgroundPosition = "center,center";
				novaImg.style.backgroundSize = "cover";
				novaImg.style.borderRadius = "5px";
				novaImg.addEventListener("click", function() {
					let urlImagem = this.style.backgroundImage.substring(5, this.style.backgroundImage.length - 2);
					abrirFull(urlImagem);
				});
				divProdutoInteiro.append(novaImg);
				let divTofull = document.createElement("div");
				divTofull.classList.add("fullimage");
				let ClickToFull = document.createElement("i");
				ClickToFull.setAttribute("class", "fas fa-search-plus");
				divTofull.append(ClickToFull);
				ClickToFull.addEventListener("click", function() {
					let BgI = this.parentElement.parentElement.querySelector(".produtoimagen").style.backgroundImage;
					let urlImagem = BgI.substring(5, BgI.length - 2);
					abrirFull(urlImagem);
				});
				divProdutoInteiro.append(divTofull);
				let NomeProduto = document.createElement("div");
				NomeProduto.classList.add("produtonome");
				NomeProduto.textContent = e.nome;
				divProdutoInteiro.append(NomeProduto);
				let ValorProduto = document.createElement("div");
				ValorProduto.classList.add("produtovalor");
				ValorProduto.textContent = "R$" + e.valor;
				divProdutoInteiro.append(ValorProduto);
				let BtnAdicionar = document.createElement("div");
				BtnAdicionar.classList.add("produtoadicionar");
				BtnAdicionar.textContent = "+CARRINHO";
				BtnAdicionar.addEventListener("click", function() {
					let s = this.parentElement.querySelector(".produtoimagen").style.backgroundImage;
					s = s.substring(5, s.length - 2);
					let n = this.parentElement.querySelector(".produtonome").textContent;
					let v = this.parentElement.querySelector(".produtovalor").textContent;

					function verificarsejatem(nome) {
						let temp = [];
						document.querySelector(".adicionados").querySelectorAll(".informacoesdoadicionado .nomedoproduto").forEach(function(e) {
							e.textContent == nome ? temp.push(e.textContent) : null;
						})
						if (temp.length > 0) {
							return true;
						} else {
							return false;
						}
					}
					if (verificarsejatem(this.parentElement.querySelector(".produtonome").textContent)) {
						let oQue = this.parentElement.querySelector(".produtonome").textContent;
						document.querySelector(".adicionados").querySelectorAll(".informacoesdoadicionado .nomedoproduto").forEach(function(e) {
							if (e.textContent == oQue) {
								e.parentElement.querySelector(".quantidadeacomprar").value = Number(e.parentElement.querySelector(".quantidadeacomprar").value) + 1;
								adicionardadosnostorage(n, s, n, v, e.parentElement.querySelector(".quantidadeacomprar").value);
							}
						});
						notificarsucess();
						fazersoma();
					} else {
						let divConteudoAdicionado = document.createElement("div");
						divConteudoAdicionado.classList.add("conteudoadicionado");
						let divDaimagem = document.createElement("div");
						divDaimagem.classList.add("imgcontainer");
						let imgConteudoAdicionado = document.createElement("img");
						let srcValor = this.parentElement.querySelector(".produtoimagen").style.backgroundImage;
						imgConteudoAdicionado.width = 72;
						imgConteudoAdicionado.src = srcValor.substring(5, srcValor.length - 2);
						imgConteudoAdicionado.classList.add("imagemdoproduto");
						imgConteudoAdicionado.addEventListener("click", function() {
							abrirFull(this.src);
						});
						divDaimagem.append(imgConteudoAdicionado);
						divConteudoAdicionado.append(divDaimagem);
						let infoDoAdicionado = document.createElement("div");
						infoDoAdicionado.classList.add("informacoesdoadicionado");
						let nomeDoConteudo = document.createElement("label");
						nomeDoConteudo.classList.add("nomedoproduto");
						nomeDoConteudo.textContent = this.parentElement.querySelector(".produtonome").textContent;
						infoDoAdicionado.append(nomeDoConteudo);
						let quantidadeComprando = document.createElement("input");
						quantidadeComprando.classList.add("quantidadeacomprar");
						quantidadeComprando.value = 1;
						quantidadeComprando.type = "number";
						quantidadeComprando.addEventListener("change", function() {
							let divinicio = this.parentElement.parentElement;
							let s = divinicio.querySelector(".imgcontainer img").src;
							let n = divinicio.querySelector(".nomedoproduto").textContent;
							let v = divinicio.querySelector(".valordoproduto").textContent;
							let q = divinicio.querySelector(".quantidadeacomprar").value;
							let nomedoproduto = this.parentElement.querySelector(".nomedoproduto").textContent;
							if (this.value == 0 || this.value == '') {
								let con = confirm("Deseja remover este item do carrinho?\n" + nomedoproduto);
								con == true ? (
										this.parentElement.parentElement.remove(),
										removerdostorage(n),
										fazersoma()
									) :
									(this.value = 1, fazersoma(), adicionardadosnostorage(n, s, n, v, 1));
							} else {
								fazersoma();
								adicionardadosnostorage(n, s, n, v, q);
							}
						});
						quantidadeComprando.addEventListener("keyup", function() {
							fazersoma();
						});
						quantidadeComprando.addEventListener("keydown", function() {
							fazersoma();
						});
						infoDoAdicionado.append(quantidadeComprando);
						divConteudoAdicionado.append(infoDoAdicionado);
						let ApagarConteudoEvalor = document.createElement("div");
						ApagarConteudoEvalor.classList.add("valoretrash");
						let IconeTrash = document.createElement("i");
						IconeTrash.setAttribute("class", "fas fa-trash-alt");
						IconeTrash.addEventListener("click", function() {
							let nomedoproduto = this.parentElement.parentElement.querySelector(".informacoesdoadicionado .nomedoproduto").textContent;
							let con = confirm("Tem certeza que deseja remover este item do carrinho?\n" + nomedoproduto);
							con == true ?
								(this.parentElement.parentElement.remove(),
									removerdostorage(nomedoproduto),
									fazersoma()) :
								null;
						});
						ApagarConteudoEvalor.append(IconeTrash);
						let ValorDoConteudo = document.createElement("span");
						ValorDoConteudo.classList.add("valordoproduto");
						ValorDoConteudo.textContent = this.parentElement.querySelector(".produtovalor").textContent;
						ApagarConteudoEvalor.append(ValorDoConteudo);
						divConteudoAdicionado.append(ApagarConteudoEvalor);
						document.querySelector(".adicionados").appendChild(divConteudoAdicionado);
						fazersoma();
						notificarsucess();
						adicionardadosnostorage(n, s, n, v, 1);
					}
				});
				divProdutoInteiro.append(BtnAdicionar);
				let BtnComprar = document.createElement("div");
				BtnComprar.classList.add("produtocomprar");
				BtnComprar.textContent = "COMPRAR";
				BtnComprar.addEventListener("click", function() {
					let imagem = this.parentElement.querySelector(".produtoimagen").style.backgroundImage;
					imagem = imagem.substring(5, imagem.length - 2);
					let texto = 'Olá!%0aGostaria de fazer uma compra%0a';
					texto += '%0aFoto do produto: ' + imagem;
					texto += '%0aNome do produto: ' + this.parentElement.querySelector(".produtonome").textContent;
					texto += '%0aValor do produto: ' + this.parentElement.querySelector(".produtovalor").textContent;
					window.open("https://wa.me/5569992841780?text=" + texto);
				});
				divProdutoInteiro.append(BtnComprar);
				document.querySelector(".produtos").appendChild(divProdutoInteiro);
				let url = novaImg.style.backgroundImage.substring(5, novaImg.style.backgroundImage.length - 2),
					img = new Image();
				img.src = url;
				imagestoload.push(img.src);
				img.onload = function() {
					let oIndex = imagestoload.findIndex(f => f.includes(img.src));
					imagestoload.length <= 1 ?
						(
							document.querySelector(".loadercontainer").classList.remove("carregando"),
							document.querySelectorAll(".produtodiv").forEach(function(e) {
								e.style.display = "flex";
							}), obterdadosdostorage()
						) :
						imagestoload.splice(oIndex, 1);
				};
			});
		};
		req.send();
	}
	if (mutiplos == true) {
		document.querySelector(".nome").textContent = "TODOS OS PRODUTOS";
		let no = path.split(",");
		for (let i = 0; i < no.length; i++) {
			new criarImages(no[i]);
		}
	} else {
		let nome = path == "/calcas/" ? "Calças/" : path;
		document.querySelector(".nome").textContent = nome.replaceAll("/", "").toUpperCase();
		criarImages(path);
	}
}

function VerMouseDownCategorias() {
	document.onmousedown = function(e) {
		if (e.target.className) {
			if (e.target.className != "catCont" && e.target.className != "far fa-images" && e.target.className != "fas fa-list" && e.target.className != "contentsCategorias") {
				document.querySelector(".categorias").classList.remove("aberto");
				document.body.style.overflow = "visible";
				AnimarHeader();
				document.onmousedown = null;
			}
		} else {
			if (e.target.textContent != "PRODUTOS" && e.target.textContent != "Croppeds" &&
				e.target.textContent != "Calças" && e.target.textContent != "Vestidos" && e.target.textContent != "Saias" && e.target.textContent != "Conjuntos") {
				document.querySelector(".categorias").classList.remove("aberto");
				document.body.style.overflow = "visible";
				AnimarHeader();
				document.onmousedown = null;
			}
		}
	};
}

function notificarsucess() {
	function apagar(id) {
		setTimeout(function() {
			document.getElementById(id) ? document.getElementById(id).remove() : null;
		}, 1500);
	}

	function makeid(length) {
		var result = '';
		var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
		var charactersLength = characters.length;
		for (var i = 0; i < length; i++) {
			result += characters.charAt(Math.floor(Math.random() *
				charactersLength));
		}
		return result;
	}
	document.querySelector(".bodysucesso") ? document.querySelector(".bodysucesso").remove() : null;
	let ID = makeid(10);
	let cridiv = document.createElement("div");
	document.body.appendChild(cridiv);
	cridiv.outerHTML = `
<div class="bodysucesso" id="` + ID + `">
<div class="sucessoadicionado">
<div class="success-checkmark">
  <div class="check-icon">
    <span class="icon-line line-tip"></span>
    <span class="icon-line line-long"></span>
    <div class="icon-circle"></div>
    <div class="icon-fix"></div>
  </div>
</div>
    <label>Item adicionado com sucesso!</label>
</div>
</div>
`;
	new apagar(ID);
}

function fazersoma() {
	if (document.querySelectorAll(".adicionados .valordoproduto").length > 0) {
		let soma = [];
		document.querySelector(".contagem span").textContent = 0;
		document.querySelectorAll(".adicionados .valordoproduto").forEach(function(i) {
			soma.push(i.textContent.replace("R$", "").replace(",", ".") * i.parentElement.parentElement.querySelector("input").value);
			document.querySelector(".contagem span").textContent = Number(document.querySelector(".contagem span").textContent) + Number(i.parentElement.parentElement.querySelector("input").value);
		});
		document.querySelector(".contagem").classList.add("itens");
		let valortotaldasoma =
			eval(soma.toString().replaceAll(",", "+")).toString().substring(0,
				eval(soma.toString().replaceAll(",", "+")).toString());
		if (valortotaldasoma.toString().includes(".")) {
			if (valortotaldasoma.toString().split(".")[1].length > 2) {
				valortotaldasoma = eval(valortotaldasoma.toString().split(".")[0] + "." + valortotaldasoma.toString().split(".")[1].substring(0, 2) + "+.011");
				valortotaldasoma = valortotaldasoma.toString().split(".")[0] + "," + valortotaldasoma.toString().split(".")[1].substring(0, 1);
				document.querySelector(".valortotal").textContent = "Valor total: R$" + valortotaldasoma.toString().replace(".", ",") + "0";
			} else {
				document.querySelector(".valortotal").textContent = "Valor total: R$" + valortotaldasoma.replace(".", ",") + "0";
			}
		} else {
			if (valortotaldasoma) {
				document.querySelector(".valortotal").textContent = "Valor total: R$" + valortotaldasoma.replace(".", ",") + ",00";
			} else {
				document.querySelector(".valortotal").textContent = "";
			}
		}
	} else {
		document.querySelector(".valortotal").textContent = '';
		document.querySelector(".contagem").classList.remove("itens");
	}
}

function abrirlink(from) {
	if (from == "whatsapp") {
		window.open("https://wa.me/5569992841780");
	} else if (window.mobileCheck() == false) {
		if (from == "instagram") {
			window.open("https://instagram.com/miss.store.pvh")
		} else if (from == "facebook") {
			window.open("https://www.facebook.com/106313655191627")
		}
	} else {
		if (from == "instagram") {
			window.open("https://instagram.com/miss.store.pvh")
			/* window.location.assign(window.location.protocol + "//" + "instagram://user?username=miss.store.pvh") */
			/* window.location = "instagram://user?username=miss.store.pvh" */
		} else if (from == "facebook") {
			window.open("https://www.facebook.com/106313655191627")
			/* fb://facewebmodal/f?href=FACEBOOKURL  ||  fb://profile/ */
			/* window.location = "fb://page/106313655191627/" */
			/* window.location.assign(window.location.protocol + "//" + "fb://page/106313655191627/") */
		}
	}
}

function adicionardadosnostorage(i, s, n, v, q) {
	let content = '{"item":[{' +
		'"nome":' + '"' + n + '",' +
		'"src":' + '"' + s + '",' +
		'"valor":' + '"' + v + '",' +
		'"quantidade":' + '"' + q + '"' + "}]" + "}"
	localStorage.setItem("carrinho_" + i, content)
}

function removerdostorage(nome) {
	for (let i = 0; i < localStorage.length; i++) {
		if (localStorage.key(i) == "carrinho_" + nome) {
			localStorage.removeItem(localStorage.key(i))
		}
	}
}

function obterdadosdostorage() {
	for (let i = 0; i < localStorage.length; i++) {
		if (localStorage.key(i).includes("carrinho_")) {
			let result = JSON.parse(localStorage.getItem(localStorage.key(i))).item;
			if (result[0]) {
				let req = new XMLHttpRequest();
				req.open("GET", result[0].src, true)
				req.send();
				req.onload = function() {
					if (req.response.includes("Página não encontrada")) {
						removerdostorage(result[0].nome);
					} else {
						function verificarsejatem(nome) {
							let temp = [];
							document.querySelector(".adicionados").querySelectorAll(".informacoesdoadicionado .nomedoproduto").forEach(function(e) {
								e.textContent == nome ? temp.push(e.textContent) : null;
							})
							if (temp.length > 0) {
								return true;
							} else {
								return false;
							}
						}
						if (verificarsejatem(result[0].nome)) {
							let oQue = result[0].nome;
							document.querySelector(".adicionados").querySelectorAll(".informacoesdoadicionado .nomedoproduto").forEach(function(e) {
								if (e.textContent == oQue) {
									e.parentElement.querySelector(".quantidadeacomprar").value = Number(e.parentElement.querySelector(".quantidadeacomprar").value) + 1;
									adicionardadosnostorage(n, s, n, v, e.parentElement.querySelector(".quantidadeacomprar").value);
								}
							});
							fazersoma();
						} else {
							let divConteudoAdicionado = document.createElement("div");
							divConteudoAdicionado.classList.add("conteudoadicionado");
							let divDaimagem = document.createElement("div");
							divDaimagem.classList.add("imgcontainer");
							let imgConteudoAdicionado = document.createElement("img");
							imgConteudoAdicionado.width = 72;
							imgConteudoAdicionado.src = result[0].src;
							imgConteudoAdicionado.classList.add("imagemdoproduto");
							imgConteudoAdicionado.addEventListener("click", function() {
								abrirFull(this.src);
							});
							divDaimagem.append(imgConteudoAdicionado);
							divConteudoAdicionado.append(divDaimagem);
							let infoDoAdicionado = document.createElement("div");
							infoDoAdicionado.classList.add("informacoesdoadicionado");
							let nomeDoConteudo = document.createElement("label");
							nomeDoConteudo.classList.add("nomedoproduto");
							nomeDoConteudo.textContent = result[0].nome;
							infoDoAdicionado.append(nomeDoConteudo);
							let quantidadeComprando = document.createElement("input");
							quantidadeComprando.classList.add("quantidadeacomprar");
							quantidadeComprando.value = result[0].quantidade;
							quantidadeComprando.type = "number";
							quantidadeComprando.addEventListener("change", function() {
								let divinicio = this.parentElement.parentElement;
								let s = divinicio.querySelector(".imgcontainer img").src;
								let n = divinicio.querySelector(".nomedoproduto").textContent;
								let v = divinicio.querySelector(".valordoproduto").textContent;
								let q = divinicio.querySelector(".quantidadeacomprar").value;
								let nomedoproduto = this.parentElement.querySelector(".nomedoproduto").textContent;
								if (this.value == 0 || this.value == '') {
									let con = confirm("Deseja remover este item do carrinho?\n" + nomedoproduto);
									con == true ? (
											this.parentElement.parentElement.remove(),
											removerdostorage(n),
											fazersoma()
										) :
										(this.value = 1, fazersoma(), adicionardadosnostorage(n, s, n, v, 1));
								} else {
									fazersoma();
									adicionardadosnostorage(n, s, n, v, q);
								}
							});
							quantidadeComprando.addEventListener("keyup", function() {
								fazersoma();
							});
							quantidadeComprando.addEventListener("keydown", function() {
								fazersoma();
							});
							infoDoAdicionado.append(quantidadeComprando);
							divConteudoAdicionado.append(infoDoAdicionado);
							let ApagarConteudoEvalor = document.createElement("div");
							ApagarConteudoEvalor.classList.add("valoretrash");
							let IconeTrash = document.createElement("i");
							IconeTrash.setAttribute("class", "fas fa-trash-alt");
							IconeTrash.addEventListener("click", function() {
								let nomedoproduto = this.parentElement.parentElement.querySelector(".informacoesdoadicionado .nomedoproduto").textContent;
								let con = confirm("Tem certeza que deseja remover este item do carrinho?\n" + nomedoproduto);
								con == true ?
									(this.parentElement.parentElement.remove(),
										removerdostorage(nomedoproduto),
										fazersoma()) :
									null;
							});
							ApagarConteudoEvalor.append(IconeTrash);
							let ValorDoConteudo = document.createElement("span");
							ValorDoConteudo.classList.add("valordoproduto");
							ValorDoConteudo.textContent = result[0].valor;
							ApagarConteudoEvalor.append(ValorDoConteudo);
							divConteudoAdicionado.append(ApagarConteudoEvalor);
							document.querySelector(".adicionados").appendChild(divConteudoAdicionado);
							fazersoma();
						}
					}
				};
			}

		}
		i == localStorage.length - 1 ? fazersoma() : null;
	}
}

wwm(".fas.fa-home").then(function(){
	document.querySelector(".fas.fa-home").addEventListener("click",function(){
		window.location.assign("/");
	});	
});
wwm(".far.fa-images").then(function() {
	document.querySelectorAll(".far.fa-images").forEach(function(e) {
		e.addEventListener("click", function() {
			let nome = this.children[0].textContent.toLowerCase();
			nome.includes("ç") ? nome = nome.replace("ç", "c") : null;
			window.location.assign("/" + nome);
		});
	});
});
wwm(".entreemcontato").then(function() {
	document.querySelector(".entreemcontato").querySelectorAll("i").forEach(function(e) {
		let deonde = e.children[0].textContent.toLowerCase();
		e.addEventListener("click", function() {
			abrirlink(deonde);
		});
	});
});
wwm(".header").then(function() {
	AnimarHeader();
});
wwm(".fa-paper-plane").then(function() {
	document.querySelector(".fa-paper-plane").addEventListener("click", function() {
		if (document.querySelector(".adicionados").childElementCount > 0) {
			let texto = 'Olá!%0aGostaria de fazer uma compra%0a';
			let _i = document.querySelectorAll(".conteudoadicionado").length - 1;
			document.querySelectorAll(".conteudoadicionado").forEach(function(e, i) {
				texto += ' %0aFoto do produto: ' + e.querySelector(".imgcontainer img").src;
				texto += ' %0aNome do produto: ' + e.querySelector(".informacoesdoadicionado .nomedoproduto").textContent;
				texto += ' %0aValor do produto: ' + e.querySelector(".valoretrash .valordoproduto").textContent;
				texto += ' %0aQuantidade: ' + e.querySelector(".informacoesdoadicionado .quantidadeacomprar").value;
				i != _i ? texto += ' %0a--------------------//--------------------' :
					texto += ' %0a--------------------//--------------------%0a' + document.querySelector(".valortotal").textContent;
			});
			window.open("https://wa.me/5569992841780?text=" + texto);
		} else {
			let ultimotexto = document.querySelector(".valortotal").textContent;
			document.querySelector(".valortotal").textContent = "Nenhum pedido a ser enviado.";
			let chamaratencao = setInterval(function() {
				if (!document.querySelector(".valortotal").style.color) {
					document.querySelector(".valortotal").style.color = "red";
				} else {
					if (document.querySelector(".valortotal").style.color == "red") {
						document.querySelector(".valortotal").style.color = "rgb(23, 32, 42)";
					} else if (document.querySelector(".valortotal").style.color == "rgb(23, 32, 42)") {
						document.querySelector(".valortotal").style.color = "red";
					}
				}
			}, 100);
			setTimeout(function() {
				document.querySelector(".valortotal").textContent = ultimotexto;
				clearInterval(chamaratencao)
			}, 2500);
		}
	});
});
wwm(".produtos").then(function() {
	if (window.location.pathname == "/") {
		String.prototype.shuffle = function() {
		var a = this.split(","),
			n = a.length;
		for (var i = n - 1; i > 0; i--) {
			var j = Math.floor(Math.random() * (i + 1));
			var tmp = a[i];
			a[i] = a[j];
			a[j] = tmp;
		}
		return a.join(",");
		}
		RequestImagens("/croppeds/,/saias/,/vestidos/,/calcas/,/conjuntos/".shuffle(), true);
	} else {
		RequestImagens(window.location.pathname + "/");
	}
});
wwm(".fotofullviewing .fa-window-close").then(function() {
	document.querySelector(".fotofullviewing .fa-window-close").addEventListener("click", function() {
		if (!document.querySelector(".carrinhoconteudo.aberto")) {
			AnimarHeader();
			document.body.style.overflow = "visible";
		}
		history.state?history.back():null;
		this.parentElement.classList.remove("aberto");
		document.querySelector(".fotofullviewing img").src = '';
	});
});
wwm(".fa-shopping-cart").then(function() {
	document.querySelector(".fa-shopping-cart").addEventListener("click", function() {
		document.querySelector(".carrinhoconteudo").classList.add("aberto");
		document.onscroll = null;
		document.body.style.overflow = "hidden";
	});
});
wwm(".fa-chevron-circle-left").then(function() {
	document.querySelector(".fa-chevron-circle-left").addEventListener("click", function() {
		document.querySelector(".carrinhoconteudo").classList.remove("aberto");
		AnimarHeader();
		document.body.style.overflow = "visible";
	});
});
wwm(".fa-list").then(function() {
	document.querySelector(".fa-list").addEventListener("click", function() {
		document.querySelector(".categorias").classList.toggle("aberto");
		if (document.querySelector(".categorias.aberto")) {
			document.onscroll = null;
			document.body.style.overflow = "hidden";
			VerMouseDownCategorias();
		} else {
			AnimarHeader();
			document.body.style.overflow = "visible";
		}
	});
});
window.mobileCheck = function() {
	let check = false;
	(function(a) {
		if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
	})(navigator.userAgent || navigator.vendor || window.opera);
	return check;
};
window.addEventListener('popstate', function() {
	if (!document.querySelector(".carrinhoconteudo.aberto")) {
		AnimarHeader();
		document.body.style.overflow = "visible";
	}
	document.querySelector(".fotofullviewing img").src = '';
	document.querySelector(".fotofullviewing").classList.remove("aberto");
});